# 實作計畫 (Implementation Plan)

## 階段 0：模組化重構（優先）

### Step 0.1: 分析現有結構
**目標**: 了解目前 `app.py` 和 `index.html` 的結構  
**驗收條件**:
- [ ] 列出 `app.py` 中所有主要功能區塊
- [ ] 列出 `index.html` 中所有主要功能區塊
- [ ] 記錄在 `architecture.md`

### Step 0.2: 規劃模組化結構
**目標**: 設計新的檔案結構  
**驗收條件**:
- [ ] 後端模組化計畫（routes/, models/, utils/）
- [ ] 前端模組化計畫（.js 檔案拆分、.css 檔案拆分）
- [ ] 更新 `architecture.md` 記錄新結構

### Step 0.3: 逐步遷移（一次一個功能）
**目標**: 將現有功能逐步遷移到新結構  
**驗收條件**:
- [ ] 每次遷移一個小功能
- [ ] 遷移後測試確保功能正常
- [ ] 更新 `architecture.md` 和 `progress.md`

## 階段 1：LCF 郵件表格視圖（已完成，但需要模組化）

### Step 1.1: 表格視圖基礎結構 ✅
**狀態**: 已完成  
**驗收條件**: ✅ 表格可以顯示郵件列表

### Step 1.2: 欄位搜尋功能 ✅
**狀態**: 已完成  
**驗收條件**: ✅ 每個欄位都有搜尋 input，可以過濾

### Step 1.3: 欄寬拖曳調整 ✅
**狀態**: 已完成  
**驗收條件**: ✅ 可以拖曳調整欄寬，設定會保存到 profile

## 階段 2：動作按鈕（待實作）

### Step 2.1: 在表格中新增動作按鈕列
**目標**: 每個郵件 row 都有 Library / Quotation / ERP Status 按鈕  
**驗收條件**:
- [ ] 表格中每個 row 都有動作按鈕
- [ ] 按鈕樣式符合現有設計風格
- [ ] 按鈕點擊時有基本的事件處理（可以先 alert）

### Step 2.2: Library 按鈕功能
**目標**: 實作圖片庫連結功能  
**驗收條件**:
- [ ] 點擊 Library 按鈕可以開啟圖片庫模組
- [ ] 圖片庫模組可以接收當前郵件資訊作為 context

### Step 2.3: Quotation 按鈕功能
**目標**: 實作報價單連結功能  
**驗收條件**:
- [ ] 點擊 Quotation 按鈕可以開啟報價單模組
- [ ] 報價單模組可以接收當前郵件資訊作為 context

### Step 2.4: ERP Status 按鈕功能
**目標**: 實作 ERP 狀態查詢連結功能  
**驗收條件**:
- [ ] 點擊 ERP Status 按鈕可以開啟 ERP 狀態查詢
- [ ] ERP 模組可以接收當前郵件資訊作為 context

## 階段 3：內部功能模組（待規劃）

### Step 3.1: 圖片庫模組設計
**目標**: 設計圖片庫模組的結構和介面  
**驗收條件**:
- [ ] PRD 更新（圖片庫需求）
- [ ] 技術設計文件
- [ ] 模組化結構規劃

### Step 3.2: 報價單模組設計
**目標**: 設計報價單模組的結構和介面  
**驗收條件**:
- [ ] PRD 更新（報價單需求）
- [ ] 技術設計文件
- [ ] 模組化結構規劃

### Step 3.3: 跟進模組設計
**目標**: 設計跟進模組的結構和介面  
**驗收條件**:
- [ ] PRD 更新（跟進需求）
- [ ] 技術設計文件
- [ ] 模組化結構規劃

### Step 3.4: ERP 連結模組設計
**目標**: 設計 ERP 連結模組的結構和介面  
**驗收條件**:
- [ ] PRD 更新（ERP 連結需求）
- [ ] 技術設計文件
- [ ] 模組化結構規劃

## 注意事項

⚠️ **重要**：
- 每個步驟完成後必須更新 `progress.md`
- 每個步驟完成後必須更新 `architecture.md`（如果改了結構）
- 每個步驟完成後必須等確認才能繼續下一步
- 不要自己擴大 scope，只做計畫裡寫的




